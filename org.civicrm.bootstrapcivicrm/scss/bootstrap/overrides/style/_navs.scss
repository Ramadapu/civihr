.nav {

  > li {

    > a {
      color: $crm-nav-color;
    }

    &.disabled > a:hover {
      border-top-color: transparent;
      border-right-color: transparent;
      border-left-color: transparent;
    }
  }
}

.nav-stacked {

  > li {

    > a {
      background: $crm-nav-stacked-bg;
      border-radius: $crm-nav-stacked-border-radius;
      padding: $crm-nav-stacked-link-padding;
    }

    + li {
      margin-top: 0;
    }

    &.disabled > a:hover {
      background: $crm-white;
    }
  }
}

.tab-content {
  background: $crm-white;
  padding: $crm-nav-tab-content-padding;
}

.nav-pills-stacked-sidebar {
    background: $crm-page-sidebar-bg;

    > li {

        > a {
            border-radius: $crm-nav-pills-sidebar-border-radius;
            color: $crm-nav-pills-sidebar-color;
            font-weight: $crm-nav-pills-sidebar-weigth;
            padding: $crm-nav-pills-sidebar-link-padding;
        }

        + li {
            margin-top: 0;
        }

        &.active {
            position: relative;
            z-index: 0;

            &:after,
            &:before {
                content: "";
                box-shadow: 1px 4px 15px 0px rgba(0,0,0,0.1);
                display: block;
                height: 999999px;
                left: 0;
                position: absolute;
                width: 100%;
                z-index: 1;
            }

            &:after {
                top: 100%;
            }

            &:before {
                bottom: 100%;
            }

            > a {
                background: $crm-nav-pills-sidebar-link-hover-bg !important;
                color: $crm-nav-pills-sidebar-link-color !important;
            }
        }
    }
}

// Nav tabs in a panel subheading
.panel-subheading {

  > .nav-tabs {
    $padding-y: nth($crm-panel-subheading-padding, 1);
    $padding-x: nth($crm-panel-subheading-padding, 2);

    margin: -#{$padding-y - 5} -#{$padding-x} -#{$padding-y};

    > li:first-child {
      margin-left: 20px;
    }
  }
}


// Nav tabs stacked vertically, in a grid+flexbox layout (content on the right)
.nav-tabs-stacked {
  border-bottom: 0;

  > li {
    float: none;

    > a {
      margin-right: 0;
      padding: $crm-nav-stacked-link-padding;
    }

    > a,
    > a:hover {
      border-color: transparent $nav-tabs-active-link-hover-border-color transparent transparent;
    }

    &.active {

      > a,
      > a:hover,
      > a:focus {
        border-color: $nav-tabs-active-link-hover-border-color transparent $nav-tabs-active-link-hover-border-color transparent;
        border-bottom-color: $nav-tabs-active-link-hover-border-color;
      }
    }
  }
}

.nav-tabs-stacked-wrapper {
  display: flex;

  // Removes the grid gutter to visually connect the tabs to the content
  .nav-tabs-stacked {
    margin-right: -$grid-gutter-width;
  }

  .nav-tabs-stacked-content {
    display: flex;
  }

  .tab-content {
    flex: 1;
  }
}

.panel-default {

  > .nav-tabs-stacked-wrapper {
    border-top: 1px solid $crm-dark-grayblue;

    .active:first-child > a {
      border-top-color: transparent;
    }
  }
}

// Nav tabs in the heading of a primary panel
.panel-primary {

    > .panel-heading {

        > .nav-tabs {
            border: $crm-nav-tabs-panel-heading-border;
            margin: $crm-nav-tabs-panel-heading-margin;

            > li {

                &.active,
                &:hover {

                    > a {
                        border-width: $crm-nav-tabs-panel-heading-link-border-hover-width;
                    }
                }

                > a {
                    background: $crm-nav-tabs-panel-heading-link-background !important;
                    border-color: $crm-nav-tabs-panel-heading-link-border-color !important;
                    border-width: $crm-nav-tabs-panel-heading-link-border-width;
                    color: $crm-nav-tabs-panel-heading-link-color !important;
                    font-weight: $crm-nav-tabs-panel-heading-link-weight;
                    padding: $crm-nav-tabs-panel-heading-link-padding;
                }
            }
        }
    }
}
