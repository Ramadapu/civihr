define(["leave-absences/shared/modules/models","common/moment","leave-absences/shared/modules/shared-settings","leave-absences/shared/models/instances/absence-period-instance","leave-absences/shared/apis/absence-period-api","common/models/model","common/services/hr-settings"],function(e,n){"use strict";e.factory("AbsencePeriod",["$log","Model","AbsencePeriodAPI","AbsencePeriodInstance","shared-settings",function(e,s,t,r,a){return e.debug("AbsencePeriod"),s.extend({all:function(e){return t.all(e).then(function(e){return e.map(function(e){return r.init(e,!0)})})},current:function(){var e=n().format(a.serverDateFormat),s={start_date:{"<=":e},end_date:{">=":e}};return t.all(s).then(function(e){return e&&e.length?r.init(e[0],!0):null})}})}])});