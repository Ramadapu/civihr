define(["leave-absences/shared/modules/models","leave-absences/shared/models/instances/entitlement-instance","leave-absences/shared/apis/entitlement-api","common/models/model"],function(n){"use strict";n.factory("Entitlement",["$log","Model","EntitlementAPI","EntitlementInstance",function(n,e,t,i){return n.debug("Entitlement"),e.extend({all:function(n,e){return t.all(this.processFilters(n),e).then(function(n){return n.map(function(n){return i.init(n,!0)})})},breakdown:function(n,e){return t.breakdown(n).then(function(n){return e?(e.map(function(e){var t=_.find(n,function(n){return n.id==e.id});return t&&(e.breakdown=t.breakdown),e}),e):n.map(function(n){return i.init(n,!0)})})}})}])});